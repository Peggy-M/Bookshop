function ba_IsPC(){var userAgentInfo=navigator.userAgent;var Agents=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];var flag=true;for(var v=0;v<Agents.length;v++){if(userAgentInfo.indexOf(Agents[v])>0){flag=false;break}}return flag}var baread_isPC=ba_IsPC();var isIE=window.ActiveXObject?true:false;var baread_rooturl="http://www.bookask.com";if(window.attachEvent){window.attachEvent("onload",function(){init()})}else{window.addEventListener("load",function(){init()},true)}function init(){var ba_mdshow_width=document.body.clientWidth;ba_mdshow_width=ba_mdshow_width+18;var brow=navigator.appVersion.split(";");if(brow&&brow.length>1){if(brow[1].replace(/[ ]/g,"")=="WOW64"||brow[1].replace(/[ ]/g,"")=="MSIE10.0"){ba_mdshow_width=document.body.clientWidth}}if(!document.getElementsByClassName){document.getElementsByClassName=function(className,element){var children=(element||document).getElementsByTagName("*");var elements=new Array();for(var i=0;i<children.length;i++){var child=children[i];var classNames=child.className.split(" ");for(var j=0;j<classNames.length;j++){if(classNames[j]==className){elements.push(child);break}}}return elements}}var ba_modeldivbg=document.createElement("div");ba_modeldivbg.setAttribute("id","ba_read_mdbg");ba_modeldivbg.style.display="none";ba_modeldivbg.style.position="fixed";ba_modeldivbg.style.zIndex="1000000";ba_modeldivbg.style.top="0%";ba_modeldivbg.style.left="0%";ba_modeldivbg.style.width="100%";ba_modeldivbg.style.height="100%";ba_modeldivbg.style.backgroundColor="#000";ba_modeldivbg.style["-moz-opacity"]="0.7";ba_modeldivbg.style.opacity=".70";ba_modeldivbg.style.filter="alpha(opacity=70)";document.getElementsByTagName("body")[0].appendChild(ba_modeldivbg);var ba_buydivbg=document.createElement("div");ba_buydivbg.setAttribute("id","ba_buy_mdbg");ba_buydivbg.style.display="none";ba_buydivbg.style.position="fixed";ba_buydivbg.style.zIndex="1000000";ba_buydivbg.style.top="0%";ba_buydivbg.style.left="0%";ba_buydivbg.style.width="100%";ba_buydivbg.style.height="100%";ba_buydivbg.style.backgroundColor="#000";ba_buydivbg.style["-moz-opacity"]="0.7";ba_buydivbg.style.opacity=".70";ba_buydivbg.style.filter="alpha(opacity=70)";document.getElementsByTagName("body")[0].appendChild(ba_buydivbg);var ba_read_mdshow=document.createElement("div");ba_read_mdshow.setAttribute("id","ba_read_mdshow");ba_read_mdshow.style.display="none";ba_read_mdshow.style.position="fixed";ba_read_mdshow.style.zIndex="1000001";ba_read_mdshow.style.top="0";ba_read_mdshow.style.width="100%";ba_read_mdshow.style.height="100%";ba_read_mdshow.style.left="0";ba_read_mdshow.innerHTML='<div id="ba_read_mdclose" style="position:fixed;top:10px;right:25px;"  onClick="ba_hidereadmd();"><img src="http://www.bookask.com/pc/$css$/turn/pics/close.png"></div>'+'<iframe id="ba_readiframe" src="'+baread_rooturl+'/read/d/usepc_1.html"    style="width: '+ba_mdshow_width+'px;height: 100%;left:0;	top:0;" allowtransparency="true" frameborder=0  ></iframe>';document.getElementsByTagName("body")[0].appendChild(ba_read_mdshow);var a=document.getElementsByClassName("ba_readbtn");for(i=0;i<a.length;i++){a[i].style.display="none";var b=a[i].getAttribute("ba_readIsbn");a[i].setAttribute("id","ba_readbtn"+i);if(b!=null&&b!=""&&b!=undefined){b=b.replace(/-/g,"");var JSONP=document.createElement("script");JSONP.type="text/javascript";JSONP.src="http://apidata.bookask.com/book/per/canread/isbn_"+b+"/id_"+i+"/usepc_1.html";document.getElementsByTagName("head")[0].appendChild(JSONP)}}var y=document.getElementsByClassName("ba_buybtn");if(y&&y.length>0){var ba_buy_mdshow=document.createElement("div");ba_buy_mdshow.setAttribute("id","ba_buy_mdshow");ba_buy_mdshow.style.display="none";ba_buy_mdshow.style.position="fixed";ba_buy_mdshow.style.zIndex="1000001";ba_buy_mdshow.style.top="0";ba_buy_mdshow.style.width="100%";ba_buy_mdshow.style.height="100%";ba_buy_mdshow.style.left="0";ba_buy_mdshow.innerHTML='<div id="ba_buy_mdclose" style="position:fixed;top:10px;right:25px;"  onClick="ba_hidebuymd();"><img src="http://www.bookask.com/pc/$css$/turn/pics/close.png"></div>'+'<iframe id="ba_buyiframe" src="'+baread_rooturl+'/read/buy.html"    style="width: '+ba_mdshow_width+'px;height: 100%;left:0;	top:0;" allowtransparency="true" frameborder=0  ></iframe>';document.getElementsByTagName("body")[0].appendChild(ba_buy_mdshow);for(j=0;j<y.length;j++){y[j].style.display="none";var b=y[j].getAttribute("ba_readIsbn");y[j].setAttribute("id","ba_buybtn"+j);if(b!=null&&b!=""&&b!=undefined){b=b.replace(/-/g,"");var bp=y[j].getAttribute("ba_buyplat");var nbp=y[j].getAttribute("ba_nobuyplat");var buyurl="http://apidata.bookask.com:3000/buylink/?id="+j+"&isbn="+b+"&bp="+bp+"&nbp="+nbp+"&callback=ba_getBuyBtn";var JSONPBUY=document.createElement("script");JSONPBUY.type="text/javascript";JSONPBUY.src=buyurl;document.getElementsByTagName("head")[0].appendChild(JSONPBUY)}}}}function ba_getBuyBtn(data){if(data!=null&&data!=undefined&&data!=""){data=eval("("+data+")");
var a=document.getElementById("ba_buybtn"+data.id);if(data.result&&data.result.length>0){var isbn=a.getAttribute("ba_readIsbn");a.onclick=function(){ba_showbuymd(isbn,data)};a.style.display=""}}}function ba_showbuymd(isbn,data){document.body.style.overflowX="hidden";document.body.style.overflowY="hidden";if(data&&data.result&&data.result.length>0){if(data.result.length==1){if(!ba_IsPC()){location.href=data.result[0]["mlink"]}else{location.href=data.result[0]["pclink"]}return}var url=baread_rooturl+"/read/buy.html?isbn="+isbn+"&bp="+data.bp+"&nbp="+data.nbp;if(!ba_IsPC()){location.href=url;return}var buybox=document.getElementById("ba_buyiframe");buybox.src=url}document.getElementById("ba_buy_mdbg").style.display="block";document.getElementById("ba_buy_mdshow").style.display="block";document.getElementById("ba_buyiframe").focus()}function ba_getRaadBtn(obj){if(obj!=null&&obj!=undefined&&obj!=""&&obj.pages>0){var a=document.getElementById("ba_readbtn"+obj.id);var rd=null;if(a.attributes["ba_readsingle"]){rd=a.attributes["ba_readsingle"].value}a.onclick=function(){ba_showreadmd(obj.bid,rd)};a.style.display=""}}function ba_showreadmd(bid,rdsgl){var ba_ifrmsrc=baread_rooturl+"/read/f/"+bid+"/usepc_1.html";document.body.style.overflowX="hidden";document.body.style.overflowY="hidden";if(!ba_IsPC()){location.href="http://m.bookask.com/book/read/"+bid+"/isinter_1.html";return}else{if(!isIE){if(rdsgl=="1"||rdsgl=="true"){ba_ifrmsrc=baread_rooturl+"/read/f/"+bid+"/usepc_1.html"}else{if(rdsgl=="2"){ba_ifrmsrc=baread_rooturl+"/read/e/"+bid+"/usepc_1.html"}else{ba_ifrmsrc=baread_rooturl+"/read/"+bid+"/usepc_1.html"}}}}document.getElementById("ba_readiframe").src=ba_ifrmsrc;document.getElementById("ba_read_mdbg").style.display="block";document.getElementById("ba_read_mdshow").style.display="block";document.getElementById("ba_readiframe").focus()}function ba_hidereadmd(){document.getElementById("ba_read_mdbg").style.display="none";document.getElementById("ba_read_mdshow").style.display="none";document.body.style.overflowX="auto";document.body.style.overflowY="auto"}function ba_hidebuymd(){document.getElementById("ba_buy_mdbg").style.display="none";document.getElementById("ba_buy_mdshow").style.display="none";document.body.style.overflowX="auto";document.body.style.overflowY="auto"}function dataSortBy(arr,field,order){var refer=[],result=[],order=order=="asc"?"asc":"desc",index;for(i=0;i<arr.length;i++){refer[i]=arr[i][field]+":"+i}refer.sort();if(order=="desc"){refer.reverse()}for(i=0;i<refer.length;i++){index=refer[i].split(":")[1];result[i]=arr[index]}return result};